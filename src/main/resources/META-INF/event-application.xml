<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:camel="http://camel.apache.org/schema/spring" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
           http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd
           http://camel.apache.org/schema/spring
           http://camel.apache.org/schema/spring/camel-spring.xsd">

	<bean id="mylogger" class="org.apache.camel.component.log.LogComponent" />
	<bean id="syslog-processor" class="com.boundary.sdk.SyslogToEventProcessor" />
	<bean id="debug-processor" class="com.boundary.sdk.DebugProcessor" />
	<bean id="boundary-event-route" class="com.boundary.sdk.BoundaryEventRoute">
		<!-- TBD: Encryption using Camel APIs -->
		<property name="orgId" value="3ehRi7uZeeaTN12dErF5XOnRXjC"/>
		<property name="apiKey" value="GN5HMCeu9trD5NYO5ZqYQrZe8aY"/>
	</bean>

	<camelContext xmlns="http://camel.apache.org/schema/spring">
		<routeBuilder ref="boundary-event-route" />
		<dataFormats>
			<syslog id="mySyslog"/>
		</dataFormats>
		<route id="SYSLOG-ROUTE">
			<from id="syslog-listener"
				uri="netty:udp://127.0.0.1:10514?sync=false&amp;allowDefaultCodec=false"/>
			<unmarshal ref="mySyslog" />
			<process id="syslog-route-processor" ref="syslog-processor"/>
			<marshal>
				<serialization/>
			</marshal>
			<to uri="direct:boundary-event"/>
		</route>
	</camelContext>
</beans>
